---
/**
 * Sanity Visual Editing component for Astro.
 *
 * This component enables click-to-edit functionality when viewing
 * the site with visual editing enabled (via cookie or URL param).
 *
 * Add this to your layout - it will only activate when visual
 * editing is enabled.
 *
 * @example
 * ```astro
 * ---
 * import { VisualEditing } from '@tinloof/sanity-astro/visual-editing'
 * ---
 * <VisualEditing />
 * ```
 */
import VisualEditingComponent from './visual-editing-component'

interface Props {
  /**
   * The z-index for the visual editing overlays
   * @default 9999
   */
  zIndex?: number
  /**
   * The refresh strategy when content changes in the Studio
   * - 'reload': Page reload with debouncing (default)
   * - 'manual': No automatic refresh
   * @default 'reload'
   */
  refresh?: 'reload' | 'manual'
  /**
   * Debounce delay in ms before refreshing after mutations stop
   * @default 500
   */
  refreshDebounce?: number
}

const {
  zIndex = 9999,
  refresh = 'reload',
  refreshDebounce = 500,
} = Astro.props
---

<VisualEditingComponent
  client:only="react"
  zIndex={zIndex}
  refresh={refresh}
  refreshDebounce={refreshDebounce}
/>
